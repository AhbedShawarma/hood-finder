<!DOCTYPE html>
    <head>
        <title>15 Neighbourhoods</title>
        <script src="transitions.js"></script>
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    </head>
    <body>
        <h1 id = "mainheader">15 WARDS</h1>
        
        <div id = "sidebar">
            <div id="pMenuContainer" onclick="togglePMenu()">
                <p>Personal Profile</p>
            </div>
            <div id="housingContainer" onclick="toggleHMenu()">
                <p>Housing</p>
            </div>
            <div id="recreationContainer" onclick="toggleRMenu()">
                <p>Recreation</p>
            </div>
            <div id="commercialContainer" onclick="toggleCMenu()">
                <p>Commercial</p>
            </div>
            <div id="foodContainer" onclick="toggleFMenu()">
                <p>Food</p>
            </div>
            <div id="transportContainer" onclick="toggleTMenu()">
                <p>Transport</p>
            </div>
        </div>

        <div id = "map">

        </div>

        <div id = "personalprofile">
            <p>personal profile</p>
        </div>
        
        <div id = "housingmenu">
            <p>housing menu</p>
        </div>
        
        <div id = "recreationmenu">
            <p>
                recreation menu
            </p>
        </div>

        <div id = "commercialmenu">
            <p>commercial menu</p>
        </div>

        <div id = "foodmenu">
            <p>food menu</p>
        </div>

        <div id = "transportmenu">
            <p>transport menu</p>
        </div>

        <script src="geoxml3.js"></script>
        <script>
            var src = "https://opendata.arcgis.com/datasets/f80de78b8abc4d08b3ef46cd4cc7f629_8.kml";
            var debug;
            var doc;
            var kmlLayer;
            var x = new XMLHttpRequest();
            x.open("GET", src, true);
            x.onreadystatechange = function () {
              if (x.readyState == 4 && x.status == 200)
              {
                doc = x.responseXML;
                for (var i = 0; i < doc.getElementsByTagName("LineStyle").length; i++) {
                    doc.getElementsByTagName("LineStyle")[i].getElementsByTagName("color")[0].childNodes[0].nodeValue = "ff000000";
                }
                for (var i = 0; i < doc.getElementsByTagName("PolyStyle").length; i++) {
                    doc.getElementsByTagName("PolyStyle")[i].getElementsByTagName("fill")[0].childNodes[0].nodeValue = "1";
                    doc.getElementsByTagName("PolyStyle")[i].appendChild(doc.createElement("color"));
                    doc.getElementsByTagName("PolyStyle")[i].getElementsByTagName("color")[0].appendChild(doc.createTextNode("40ffff00"));
                    doc.getElementsByTagName("PolyStyle")[i].appendChild(doc.createElement("colorMode"));
                    doc.getElementsByTagName("PolyStyle")[i].getElementsByTagName("colorMode")[0].appendChild(doc.createTextNode("normal"));
                }
              }
            };
            x.send(null);
            function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 12,
                    center: {
                        lat: 43.2557,
                        lng: -79.8711
                    }
                });

                var parser = new geoXML3.parser({
                    map: map
                });
                parser.parseKmlString(new XMLSerializer().serializeToString(doc.documentElement), []);
            }
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBv4uCora2zrezirpkTh7hxr_7JEVfgc0&callback=initMap">
        </script>
    </body>
</html>
